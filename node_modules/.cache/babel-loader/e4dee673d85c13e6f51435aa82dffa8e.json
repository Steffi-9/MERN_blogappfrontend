{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Steff\\\\OneDrive\\\\Documents\\\\ICT_Academy_Kerala\\\\MERNAssignment_BLOGAPP\\\\blogappfrontend\\\\src\\\\component\\\\signUp\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport './SignUp.css';\nimport MyForm from '../reading/Reading';\nimport React, { useEffect, useState } from 'react';\nimport loginValidation from './loginValidation';\nimport axios from 'axios';\nimport Home from '../home/Home';\nimport ArticleList from '../articles/ArticleList';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  let navigate = useNavigate(); //Storing form values\n\n  var [formValues, setFormValues] = MyForm({\n    email: \"\",\n    password: \"\"\n  }); //Manage Form Error Values\n\n  var [formErrorValues, setFormErrorValues] = useState({}); //Flag for form submission Status\n\n  const [isSubmit, setIsSubmit] = useState(false);\n  const [success, setsuccess] = useState(false);\n\n  async function handleLoginSubmit(event) {\n    //   console.log(\"hi\")\n    event.preventDefault();\n    setFormErrorValues(loginValidation(formValues)); // setIsSubmit(true);\n\n    await axios.post(\"http://localhost:5001/api/login\", formValues).then(response => {\n      // console.log(response);\n      let result = response.data.status; // console.log(result);\n\n      if (result === \"success\") {\n        setsuccess(true);\n        console.log(success);\n      }\n    });\n  }\n\n  useEffect(() => {\n    if (Object.keys(formErrorValues).length === 0 && success) {\n      navigate(\"/\", {\n        replace: true\n      }); //  if(success){\n      //  \tnavigate(\"/\", { replace: true });\n      //      }\n      //  else{\n      //  \talert(\"Invalid Credentials\");\n      //  \tnavigate(\"/signup\",{replace:true})\n      //  }\n    } // Object.keys(formErrorValues).length === 0 && isSubmit ? (<Login />) :(<Home />)\n\n  }, [formErrorValues, s]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loginbody\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLoginSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            \"aria-hidden\": \"true\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            value: formValues.email,\n            onChange: setFormValues,\n            required: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"loginerrors\",\n            children: formErrorValues.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            required: \"\",\n            value: formValues.password,\n            onChange: setFormValues\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"loginerrors\",\n            children: formErrorValues.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Login, \"32TqYFzMRqVDHs0uVFOFP5Y6tMI=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Steff/OneDrive/Documents/ICT_Academy_Kerala/MERNAssignment_BLOGAPP/blogappfrontend/src/component/signUp/Login.js"],"names":["MyForm","React","useEffect","useState","loginValidation","axios","Home","ArticleList","useNavigate","Login","navigate","formValues","setFormValues","email","password","formErrorValues","setFormErrorValues","isSubmit","setIsSubmit","success","setsuccess","handleLoginSubmit","event","preventDefault","post","then","response","result","data","status","console","log","Object","keys","length","replace","s"],"mappings":";;;AACA,OAAO,cAAP;AACA,OAAOA,MAAP,MAAmB,oBAAnB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAEnB,MAAIC,QAAQ,GAAGF,WAAW,EAA1B,CAFmB,CAGnB;;AACG,MAAI,CAACG,UAAD,EAAYC,aAAZ,IAA6BZ,MAAM,CAAC;AAACa,IAAAA,KAAK,EAAC,EAAP;AAAUC,IAAAA,QAAQ,EAAC;AAAnB,GAAD,CAAvC,CAJgB,CAMjB;;AACA,MAAI,CAACC,eAAD,EAAiBC,kBAAjB,IAAsCb,QAAQ,CAAC,EAAD,CAAlD,CAPiB,CASjB;;AACA,QAAM,CAACc,QAAD,EAAUC,WAAV,IAAyBf,QAAQ,CAAC,KAAD,CAAvC;AACA,QAAM,CAACgB,OAAD,EAASC,UAAT,IAAuBjB,QAAQ,CAAC,KAAD,CAArC;;AAGA,iBAAekB,iBAAf,CAAiCC,KAAjC,EAAuC;AACxC;AACAA,IAAAA,KAAK,CAACC,cAAN;AACMP,IAAAA,kBAAkB,CAACZ,eAAe,CAACO,UAAD,CAAhB,CAAlB,CAHkC,CAIlC;;AACN,UAAMN,KAAK,CAACmB,IAAN,CAAW,iCAAX,EAA6Cb,UAA7C,EAAyDc,IAAzD,CACKC,QAAD,IAAY;AACR;AACZ,UAAIC,MAAM,GAAGD,QAAQ,CAACE,IAAT,CAAcC,MAA3B,CAFoB,CAGpB;;AACA,UAAGF,MAAM,KAAK,SAAd,EACA;AACAP,QAAAA,UAAU,CAAC,IAAD,CAAV;AACAU,QAAAA,OAAO,CAACC,GAAR,CAAYZ,OAAZ;AACI;AAGK,KAZL,CAAN;AAiBE;;AAEDjB,EAAAA,SAAS,CAAC,MAAI;AACf,QAAG8B,MAAM,CAACC,IAAP,CAAYlB,eAAZ,EAA6BmB,MAA7B,KAAwC,CAAxC,IAA6Cf,OAAhD,EAAyD;AACxDT,MAAAA,QAAQ,CAAC,GAAD,EAAM;AAAEyB,QAAAA,OAAO,EAAE;AAAX,OAAN,CAAR,CADwD,CAGxD;AACA;AACG;AACH;AACA;AACA;AACA;AAEA,KAZc,CAcf;;AACE,GAfQ,EAiBT,CAACpB,eAAD,EAAiBqB,CAAjB,CAjBS,CAAT;AAmBC,sBACF;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,2BACC;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,6BAEU;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA,+BACT;AAAM,UAAA,QAAQ,EAAEf,iBAAhB;AAAA,kCACC;AAAQ,2BAAY,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAO,YAAA,IAAI,EAAC,OAAZ;AAAoB,YAAA,IAAI,EAAC,OAAzB;AAAiC,YAAA,WAAW,EAAC,OAA7C;AAAqD,YAAA,KAAK,EAAEV,UAAU,CAACE,KAAvE;AAA8E,YAAA,QAAQ,EAAED,aAAxF;AAAuG,YAAA,QAAQ,EAAC;AAAhH;AAAA;AAAA;AAAA;AAAA,kBAFD,eAGC;AAAG,YAAA,SAAS,EAAC,aAAb;AAAA,sBAA4BG,eAAe,CAACF;AAA5C;AAAA;AAAA;AAAA;AAAA,kBAHD,eAIC;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,IAAI,EAAC,UAA5B;AAAuC,YAAA,WAAW,EAAC,UAAnD;AAA8D,YAAA,QAAQ,EAAC,EAAvE;AAA0E,YAAA,KAAK,EAAEF,UAAU,CAACG,QAA5F;AAAsG,YAAA,QAAQ,EAAEF;AAAhH;AAAA;AAAA;AAAA;AAAA,kBAJD,eAKC;AAAG,YAAA,SAAS,EAAC,aAAb;AAAA,sBAA4BG,eAAe,CAACD;AAA5C;AAAA;AAAA;AAAA;AAAA,kBALD,eAMC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAND;AAAA;AAAA;AAAA;AAAA;AAAA;AADS;AAAA;AAAA;AAAA;AAAA;AAFV;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADE;AAoBH,CA7ED;;GAAML,K;UAEUD,W;;;KAFVC,K;AA+EN,eAAeA,KAAf","sourcesContent":["\r\nimport './SignUp.css';\r\nimport MyForm from '../reading/Reading';\r\nimport React, { useEffect, useState } from 'react';\r\nimport loginValidation from './loginValidation';\r\nimport axios from 'axios';\r\nimport Home from '../home/Home';\r\nimport ArticleList from '../articles/ArticleList';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n \r\n\tlet navigate = useNavigate();\r\n\t//Storing form values\r\n    var [formValues,setFormValues] = MyForm({email:\"\",password:\"\"});\r\n\r\n\t  //Manage Form Error Values\r\n\t  var [formErrorValues,setFormErrorValues]= useState({});\r\n\r\n\t  //Flag for form submission Status\r\n\t  const [isSubmit,setIsSubmit] = useState(false);\r\n\t  const [success,setsuccess] = useState(false);\r\n\r\n\r\n\t  async function handleLoginSubmit(event){\r\n\t\t//   console.log(\"hi\")\r\n\t\tevent.preventDefault();\r\n        setFormErrorValues(loginValidation(formValues));\r\n        // setIsSubmit(true);\r\n\t\tawait axios.post(\"http://localhost:5001/api/login\",formValues).then(\r\n            (response)=>{\r\n                // console.log(response);\r\n\t\t\t\tlet result = response.data.status;\r\n\t\t\t\t// console.log(result);\r\n\t\t\t\tif(result === \"success\")\r\n\t\t\t\t{\r\n\t\t\t\tsetsuccess(true);\r\n\t\t\t\tconsole.log(success);\r\n\t\t\t    }\r\n\t\t\t\t\r\n\t\t\t\t\r\n            }\r\n        )\r\n\t\t\r\n\t\t\r\n\r\n\t  }\r\n\r\n\t  useEffect(()=>{\r\n\t\tif(Object.keys(formErrorValues).length === 0 && success ){\r\n\t\t\tnavigate(\"/\", { replace: true });\r\n\t\t\t\r\n\t\t\t//  if(success){\r\n\t\t\t//  \tnavigate(\"/\", { replace: true });\r\n\t\t    //      }\r\n\t\t\t//  else{\r\n\t\t\t//  \talert(\"Invalid Credentials\");\r\n\t\t\t//  \tnavigate(\"/signup\",{replace:true})\r\n\t\t\t//  }\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\t// Object.keys(formErrorValues).length === 0 && isSubmit ? (<Login />) :(<Home />)\r\n\t\t }\r\n\r\n\t ,[formErrorValues,s]);\r\n\r\n    return (\r\n\t\t<div className='loginbody'>\r\n\t\t\t<div className='main'>\r\n\t\t\t{/* {Object.keys(formErrorValues).length === 0 && isSubmit ? (<Home />) :null} */}\r\n            \t<div className='login'>\r\n\t\t\t\t<form onSubmit={handleLoginSubmit}>\r\n\t\t\t\t\t<label  aria-hidden=\"true\">Login</label>\r\n\t\t\t\t\t<input type=\"email\" name=\"email\" placeholder=\"Email\" value={formValues.email} onChange={setFormValues} required=\"\" />\r\n\t\t\t\t\t<p className='loginerrors'>{formErrorValues.email}</p>\r\n\t\t\t\t\t<input type=\"password\" name=\"password\" placeholder=\"Password\" required=\"\" value={formValues.password} onChange={setFormValues} />\r\n\t\t\t\t\t<p className='loginerrors'>{formErrorValues.password}</p>\r\n\t\t\t\t\t<button>Login</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n            \r\n        </div>\r\n\r\n\t\t</div>\r\n        \r\n    );\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}